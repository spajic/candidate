% Настройка пакета ------------------------------------------------------------
  \documentclass[% Основные настройки документа
    12pt,           % основной шрифт документа
    autoref,        % тип документа
    subf,           % подключить и настроить п-т subfig для влож-й нум. рис.
    href,           % подключить и настроить пакет hyperref
    facsimile,      % отображать факсимиле диссертанта и ученого секретаря
    colorlinks=false% цветные гиперссылки выключены
    %,fixint=false  % отключить прямые знаки интегралов
    ,times          % шрифт Times как основной
    %,classified    % гриф секретности выключен
    ]{disser}       % тип документа = disser

% Поключение необходимых пакетов ----------------------------------------------
  \usepackage[
    a4paper,            % формат бумаги
    mag       = 1000,   % 
    % поля--------------  
    left      = 2.5cm,  
    right     = 1cm, 
    top       = 2cm, 
    bottom    = 2cm, 
    headsep   = 0.7cm, 
    footskip  = 1cm
  ]{geometry}
  \usepackage[T2A]{fontenc}
  \usepackage[cp1251]{inputenc}
  \usepackage[english,russian]{babel}
  \usepackage{tabularx}   % таблицы с возможностью автоматической подгонки X
  \usepackage{tabulary}   % таблицы с возможностью автоматической подгонки LRCJ
  \usepackage{array}      % для выравнивания строк по вертикали, м.б. что-то ещё
  \usepackage{enumitem}   % перечисления
  \usepackage{float}      % для возможности использования спецификатора H у float
  \usepackage{anyfontsize}% для задания 13го размера шрифта
  \usepackage{booktabs}   % для красивых таблиц (\toprule, \midrule, \bottomrule)
  \ifpdf\usepackage{epstopdf}\fi % для конверсии eps в pdf 
  \usepackage{multibib}   % Поддержка нескольких списков литературы 
                          % в одном документе - вроде, только один мне нужен.
  \usepackage{enumitem} % настройка списков
  \usepackage{placeins}

% Путь к файлам с иллюстрациями -----------------------------------------------
  \graphicspath{{fig/ch1/}{fig/}}
  %

% Дополнительные настройки оформления -----------------------------------------
  % Номера страниц снизу и по центру
  %\pagestyle{footcenter}
  %\chapterpagestyle{footcenter}

  % Точка с запятой в качестве разделителя между номерами цитирований
  %\setcitestyle{semicolon}

% Оформление списков ----------------------------------------------------------
  \setlist{nolistsep} % не использовать никаких интервалов в списках: до, после, 
                      % между элементами

  % Автор предлагает покрутить следующие параметры.
  % Можно переопределить саму команду itemize - там настроить оступы. 
  % Либо в отдельных списках выполнять эти команды.
  %\setlength{\itemsep}{-0.5pt}
  %\setlength{\parskip}{0pt}
  %\setlength{\parsep}{0pt}

  %\newenvironment{itemize*}            % списки с поджатым межстрочным интервалом
  %  { \onethirdspacing\begin{itemize} }% пока не используются
  %  { \end{itemize}\mydefaultspacing }

% Мои команды и окружения -----------------------------------------------------
  \newcommand{\ra}[1]{               % расширить интервалы между строками 
    \renewcommand{\arraystretch}{#1} % в таблицах
  } 

  \newcommand\mytablespacing{        % при этом уменьшить расстояние между строками 
                                     % текста в рамкой строк таблицы
    \renewcommand\baselinestretch{1.1}\normalsize
  }

  \newcommand\mydefaultspacing{       % задать основной межстрочный интервал =1.3
    \renewcommand\baselinestretch{1.3}\normalsize
  }

  % Формат команды \setlength{\abovecaptionskip}{15pt plus 3pt minus 2pt}
  % plus и minus - насколько интервалу позволительно сыграть
  % Уменьшаем интервалы между таблицами/рисунками и их подписями
  \newenvironment{mytable} 
   {\mytablespacing
    \ra{1.3}
    \setlength{\abovecaptionskip}{0pt}
    \setlength{\belowcaptionskip}{5pt}
      \begin{table}}
   {\end{table}
   \mydefaultspacing}

  \newenvironment{myfigure}
   {\setlength{\abovecaptionskip}{-5pt}
    \setlength{\belowcaptionskip}{-5pt}
      \begin{figure}}
   {\end{figure}}


% Создание команд для цитирования собственных работ диссертанта ---------------
% в отдельном разделе. В данном случае ссылка будет иметь вид \citemy{...}.
  \newcites{my}{Список публикаций}
  %

\mydefaultspacing % задаю нестандартный основной межстрочный интервал документа
\hyphenpenalty=5000
\tolerance=10000
\begin{document}
\fontsize{13}{15.6}\selectfont % задаю нестандартный размер шрифта.
                               % 2й аргумент, вроде, ничего не решает.

% Включение файла с общим текстом диссертации и автореферата ------------------
\input{common} % (текст титульного листа и характеристика работы).
  %\copynum{1}   % номер копии для грифа секретности
  %\classlabel{Для служебного пользования} % класс доступа

  \title{АВТОРЕФЕРАТ\\
  диссертации на соискание ученой степени\\
  кандидата технических наук}

  \maketitle 

% Внутренняя сторона обложки --------------------------------------------------
  \thispagestyle{empty}
  \vspace*{-2cm}
  \noindent
  \begin{center}
    Работа выполнена в 
    \emph{Российском государственном университете нефти и газа 
          имени И.М.~Губкина на кафедре Автоматизированные системы управления}.
  \end{center}
  \vskip1ex
  \begin{tabularx}{\linewidth}{lp{1cm}X}
  Научный руководитель:  & & \emph{доктор технических наук}, \\
                         & & \emph{доцент},                  \\
                         & & \emph{Сергей Александрович Сарданашвили}
  \\
  Официальные оппоненты: & & \emph{доктор технических наук},     \\
                         & & \emph{профессор},                   \\
                         & & \emph{Ставровский Евгений Романович}\\
                         & & \emph{кандидат технических наук},   \\
                         & & \emph{ученое звание},               \\
                         & & \emph{Комиссаров Сергей Викторович}
  \\
  Ведущая организация:   & & \emph{
    Институт систем энергетики им. Л.А. Мелентьева 
    Сибирского отделения Российской академии наук (ИСЭМ СО РАН)}\\
  \end{tabularx}

  \vskip2ex\noindent
  Защита состоится \datefield{} в \rule[0pt]{1cm}{0.5pt} 
  на заседании диссертационного совета \emph{Д 212.200.14} при \emph{название
  организации, при которой создан совет}, расположенном по адресу:
  \emph{адрес}

  \vskip1ex\noindent
  С диссертацией можно ознакомиться в библиотеке
  \emph{РГУ нефти и газа имени И.М. Губкина}.

  \vskip1ex\noindent
  Автореферат разослан \datefield{}

  \vskip2ex\noindent
  Отзывы и замечания по автореферату в двух экземплярах, заверенные
  печатью, просьба высылать по вышеуказанному адресу на имя ученого секретаря
  диссертационного совета.

  \vfill\noindent
  Ученый секретарь\\
  диссертационного совета Д 212.200.14,\\
  \emph{доктор технических наук}, \emph{профессор}%
  \hfill
  \makeatletter
  % вставка файла, содержащего факсимиле ученого секретаря
  \ifDis@facsimile
    \raisebox{-4pt}{\includegraphics[width=3cm]{sec-facsimile}}\hfill
  \fi%
  \makeatother%
  \emph{Егоров А.В.}

  \clearpage % вставить разрыв страницы
  % Конец второй страницы--------------------------------------------------------

% Общее с диссертацией - из файла common.tex ----------------------------------
  % Актуальность работы
  \actualitysection\actualitytext

  % Степень разработанности темы исследования
  \developmentsection\developmenttext

  % Цели и задачи диссертационной работы
  \objectivesection\objectivetext

  % Научная новизна
  \noveltysection\noveltytext

  % Теоретическая и практическая значимость
  \valuesection\valuetext

  % Методология и методы исследования
  \methodssection\methodstext

  % Положения, выносимые на защиту
  \resultssection\resultstext

  % Степень достоверности и апробация результатов
  \approbationsection\approbationtext

  % Публикации
  \pubsection\pubtext

  % Личный вклад автора
  \contribsection\contribtext

  % Структура и объем диссертации
  \structsection\structtext

% Содержание автореферата -----------------------------------------------------
  \clearpage
  \nsection{Содержание работы}
% Введение --------------------------------------------------------------------
  \textbf{Во Введении} 
    обоснована актуальность диссертационной работы,
    сформулирована цель и аргументирована научная новизна исследований, 
    показана практическая значимость полученных результатов, 
    представлены выносимые на защиту научные положения.

% Первая глава ----------------------------------------------------------------
  \textbf{В первой главе} 
  \emph{
    <<Анализ проблем~в области разработки~и развития
      компьютерных программно-вычислительных комплексов
      моделирования режимов систем газоснабжения>>
  } 
  рассмотрено современное состояние функциональной подсистемы 
  компьютерного моделирования в составе АСДУ ЕСГ России.
  %ToDo: что ещё в этой главе есть?

  % Логическая структура Главы 1 (по абзацам) ---------------------------------
  % 1. ЕСГ - система, огромная, объективно требующая иерархического управления
  % 2. Это управление осуществляется иерархической АСДУ, состоящей из 3х уровней
  %      (уровни, их аббревиатуры и их назначение)
  % 3. Рисунок иерархической схемы АСДУ
  % 4. Важную (центральную) роль в АСДУ играет подсистема компьютерного моделирования.
  %    Подсистема КМ состоит из многочисленных ПВК СППДР, исп-ся на всех уровнях АСДУ
  % 5. Осуществляется проект модернизации АСДУ, создаётся ЕИП, 
  %    мощности для расчётов - вычислительные центры.
  % 6. Предъявляются новые требования и к подсистеме КМ, и составлящим её ПВК:
  %      - Быстрое решение вычислительно-сложных задач
  %      - Работа в сетевом и распр-м режиме
  %      - Использование стандартных интерфейсов
  %      - Использование согласованных вычислительных процедур, согл-ть рез-в
  %      - Интеграция с ЕИП АСДУ, в ЕВП, ПВК друг с другом
  % 7. Модернизация - осуществление новых требований затруднено Монолитностью,
  %    а именно - что такое монолитность и другим
  %    другие затруднения - однопользов, лок, __одна ОС__, закрытые форматы, собственные расч модули
  % (8). (что именно затруднено:
  %      от последов к ПВ
  %      от локальн - к РВ, сетевому
  %      от однопользов - к многопользов
  %      от собственных форматов данных к согласованным интерфейсам
  %      от собств-х расчётных модулей - к единому обеспечению)
  % 8. Возможный путь решения, разработанный в данной диссертации - 
  %      - единая вычислительная среда для разработки сервисов вычислительного обеспечения ПВК,
  %      - максимально готова решать задачи модернизации
  %      - разработка сервисов, создание ЕВП
  %      - переход ПВК к использованию нового выч. обеспечения
  %      - ПВК с ЕВП и ЕИП.
  % 9.До последнего времени актуальными были след. проблемы: (решённые в дисс.)
  %       - разработка арх-ры компонентной, ПВ и РВ, среды - основы созд-я ЕВП
  %       - программная реализация среды
  %       - создание вычислительных сервисов решения конкретных задач
  %       - разработка методологии интеграции ПВК в ЕВП, переходу к исп-ю сервисов
  % 10. Решению этих проблем посвящены последующие главы диссертации.
  
  % 1. Единая Система Газоснабжения
  Единая система газоснабжения (ЕСГ) России представляет собой 
  сложный производственно-технологический комплекс, объединяющий 
  объекты добычи, 
  переработки, 
  транспорта и 
  подземного хранения газа в 
  единый иерархически управляемый процесс.

  % 2. АСДУ управляет ЕСГ
  Иерархическое управление ЕСГ осуществляется 
  автоматизированной системой диспетчерского управления (АСДУ), состоящей
  из трёх уровней:
  \begin{enumerate}
    \item
      ЦПДД – Центральный производственно-диспетчерский департамент ОАО «Газпром»;
    \item 
      ПДС ЭО – производственно-диспетчерская служба эксплуатирующей организации;
    \item
      ДП ЛПУ МГ – диспетчерский пункт линейного производственного управления 
    магистральными газопроводами.  
  \end{enumerate}
  % 3. Иерархическая схема АСДУ - на рисунке
    Иерархическая схема АСДУ представлена на рисунке~\ref{fig:ASDU_hierarchy}.
      \begin{myfigure}[h!]
        \center{
          \includegraphics[width=1\linewidth]{ASDU_hierarchy.pdf}
        }
        \caption{Схема иерархического диспетчерского управления ЕСГ}
        \label{fig:ASDU_hierarchy}
      \end{myfigure}

  % 4. Важную (центральную) роль в АСДУ играет подсистема компьютерного моделирования.
  Важную роль в АСДУ играет система поддержки принятия диспетчерских решений (СППДР),
  состоящая из многочисленных программно-вычислительных комплексов (ПВК) СППДР, 
  применяемых на всех уровнях диспетчерского управления.
  
  % 5. Осухществляется проект модернизации АСДУ, создаётся ЕИП, 
  %    мощности для расчётов - вычислительные центры.
  В настоящее время ОАО <<Газпром>> осуществляет проект модернизации АСДУ:
  \begin{itemize}
    \item 
      для информационного обеспечения диспетчерских служб создаётся 
      единое информационное пространство АСДУ~--- 
      централизованные источники актуализированных данных и 
      распределённые средства доступа к ним;
    \item 
      для обеспечения вычислительных потребностей ПВК СППДР создаётся ряд
      мощных центров обработки данных (ЦОД).    
  \end{itemize}

  % 6. Предъявляются новые требования и к подсистеме КМ, и составлящим её ПВК:
  %    - Быстрое решение вычислительно-сложных задач
  %    - Работа в сетевом и распр-м режиме
  %    - Использование стандартных интерфейсов
  %    - Использование согласованных вычислительных процедур, согл-ть рез-в
  %    - Интеграция с ЕИП АСДУ, в ЕВП, ПВК друг с другом
  Предъявляются новые требования и к ПВК СППДР:
  \begin{itemize}
    \item
      быстрое решение вычислительно-сложных задач моделирования 
      систем газоснабжения (СГ) высокой размерности в сетевом, распределённом,
      многопользовательском режиме;
    \item  
      обеспечение согласованности используемых вычислительных процедур и
      результатов работы для различных ПВК СППДР;      
    \item
      интеграция ПВК СППДР друг с другом и с ЕИП на основе стандартных протоколов
      информационного взаимодействия.
  \end{itemize}

  % 7. Модернизация - осуществление новых требований затруднено Монолитностью,
  %    а именно - что такое монолитность и другим
  %    другие затруднения - однопользов, лок, __одна ОС__, закрытые форматы, собственные расч модули
    Осуществление необходимой модернизации затрудняется рядом проблем:
    большинство ПВК СППДР разрабатывались в течение долгого времени с ориентацией
    на однопользовательский, локальный режим работы с использованием
    собственного вычислительного модуля по нестандартному закрытому интерфейсу.
    Процедурный подход, исторически использоаванный при разработке расчётных модулей, 
    привёл к высокой степени взаимопроникновения между их элементами, 
    кардинально затрудняющей их модернизацию.

  % 8. Возможный путь решения, разработанный в данной диссертации - 
  %      - единая вычислительная среда для разработки сервисов вычислительного обеспечения ПВК,
  %      - максимально готова решать задачи модернизации
  %      - разработка сервисов, создание ЕВП
  %      - переход ПВК к использованию нового выч. обеспечения
  %      - ПВК с ЕВП и ЕИП.
  Перечисленные задачи модернизации могут быть решены за счёт 
  унифицированного обеспечения иерархической распределённой СППДР
  вычислительными сервисами, интегрированными с ЕИП~--- создания 
  единого вычислительного пространства (ЕВП) АСДУ.

  ЕВП может быть создано на базе единой вычислительной среды, обеспечивающей
  полную поддержку 
  технологий параллельных и распределённых вычислений, 
  механизмов информационного взаимодействия и интеграции, 
  с последующей разработкой необходимых вычислительных сервисов на её базе.

% 9.До последнего времени актуальными были след. проблемы: (решённые в дисс.)
%       - разработка арх-ры компонентной, ПВ и РВ, среды - основы созд-я ЕВП
%       - программная реализация среды
%       - создание вычислительных сервисов решения конкретных задач
%       - разработка методологии интеграции ПВК в ЕВП, переходу к исп-ю сервисов
  До последнего времени актуальными были следующие проблемы:
  \begin{itemize}
    \item
      разработка архитектуры и программной реализации единой вычислительной среды,
      обеспечивающей основу для разработки унифицированного обеспечения
      распределённой иерархической СППДР АСДУ вычислительными сервисами
      на базе технологий параллельных и распределённых вычислений;
    \item
      разработка вычислительных сервисов решения конкретных расчётных задач
      моделирования СГ на базе единой вычислительной среды;
    \item
      разработка методологии интеграции ПВК СППДР с новыми 
      вычислительными сервисами, реализация интеграционных проектов,
      тестирование корректности и производительности реализованных решений.
  \end{itemize}

  % 10. Решению этих проблем посвящены последующие главы диссертации.
    Следующие главы диссертации посвящены решению указанных проблем.

% Глава 2 ---------------------------------------------------------------------
% План высокого уровня
% -----------------------------------------------------------------------------
% ( Вводная Секция )
% В работе проведён анализ предметной области, 
%   - алгоритмов моделирования СГ
%   - архитектур построения ПВК СППДР
%   - технологий параллельных и распределённых вычислений
%   - технологий программирования
%   - подходов к HPC-вычислениями
% Ключевые особенности с точки зрения построения среды.
% На основании проведённого анализа сформулированы требования, которым должна 
% отвечать единая вычислительная среда, а именно:
%   - по пунктам

% (Секция - Архитектура построения вычислительной среды) ----------------------
% Три ключевых принципа выделены для реализации сформулированных требований
%   - SOA - реализация сервис-ориентированного подхода средствами middleware
%   - Явное управление выч. ресурсами 
%   - Унифицированный алгоритм разработки вычислительных сервисов
% Эти принципы последовательно раскрыты в работе
%
% (Подсекция - Сервис ориентированный подход средствами middleware) -----------
%   - Сервис
%   - Узел
%   - (взаимоотношение клиентов и серверов)
%   - роль middleware - низкоуровневое взаимодействие
%   - РИСУНОК со схемой взаимодйествия сервисов в распр-й среде
%   - Какие требования позволяет удовлетворить SOA, преимущества
%      - прозрачность расположения, реализации, инвариантность к платформе
%
% (Подсекция - Явное управление вычислительными ресурсами) --------------------
%   - На основе анализа выделены распространённые подходы к управлению ресурсами
%      - stateles сервисы и лёгкое балансирование нагрузки, 
%      - системы управления заданиями в HPC кластерах
%   - Что такое явное управление вычислительными ресурсами
%   - С какой целью оно вводится
%   - Как оно реализуется
%      - Вычислительные и служебные сервисы
%      - КВР
%      - Тип КВР
%      - Служебный сервис управления КВР
%      - Служебный сервис Диспетчер КВР
%   - Рисунок с явным управлением вычислительными ресурсами
%   - Алгоритм работы схемы
%     - Этап настройки - установка, формирование КВР, запуск УС, 
%     - Запуск Диспетчера, опр-е мн-ва узлов, управляемых им
%     - Действия клиента для решения задачи
%   - Как явное управление ресурсами реализует то, для чего оно затевалось 
%      - HPC - сопоставление ресурсов и сервисов, 
%      - мин. расходы; упр-е конф. в распр-й среде
%      - Монопольный: целесообазно для HPC, must для CUDA
%   - Stateful благодаря монопольности - пример, + в памяти видеокарты
%   - Контроль над организацией вычислительной конфиг. в распр-й сети
%   - Различные режимы работы за счёт расположения диспетчера и клиента
%      - Локальный однопользовательский
%      - Локально-сетевой с использованием ресурсов локальной сети
%      - Клиент-серверный
%      - Произвольная распределённая иерархия, в т.ч. соответствующая АСДУ ЕСГ
%   - Комбинированный режим
%
% (Подсекция) - АЛГОРИТМ разработки сервисов -------------------------------------

% (Подсекция) - Анализ и выбор технологий программирования -----------------------

% (Секция) - Проектирование и реализация вычислительных сервисов --------------
%   Введение - базовый комплекс, на его основе иерархические итерационные задачи
%   Выбор сервисов для реализации
%   (Подсекция) Сервис моделирования СГ
%      (ПодПодСекция) - Постановка задачи, метод решения
%      (ПодПодСекция) -  Реализация сервиса моделирования СГ
%        Отметить - GPGPU в параллельном моделировании объектов

%  (Подсекция) Сервис идентификации параметров модели
%       (ПодПодСекция) - Постановка задачи, метод решения
%       (ПодПодСекция) - Реализация сервиса идентификации
%     Отметить - использование и ПВ и РВ в распределённой среде

\textbf{Во второй главе} \emph{
  «Разработка компонентной среды 
  организации параллельного и распределённого вычислительного процесса 
  решения расчётных задач моделирования систем газоснабжения»} 
  предложена архитектура вычислительной среды, 
  определены методы и средства её построения, 
  предложен общий алгоритм разработки вычислительных сервисов на её основе, 
  спроектированы вычислительные процессы решения 
  ряда конкретных задач моделирования режимов СГ.

% ( Вводная часть )
% В работе проведён анализ предметной области, 
%   - алгоритмов моделирования СГ
%   - архитектур построения ПВК СППДР
%   - технологий параллельных и распределённых вычислений
%   - технологий программирования
%   - подходов к HPC-вычислениями

% Ключевые особенности с точки зрения построения среды.

% На основании проведённого анализа сформулированы требования, которым должна 
% отвечать единая вычислительная среда, а именно:
%   - по пунктам
  На основании проведённого анализа предметной области,
  математических методов, вычислительных алгоритмов моделирования
      и оптимизации режимов транспорта газа и их программной реализации
      в ПВК СППДР;
      теоретических основ и программных технологий
      программирования параллельных, 
      распределённых,
      высокопроизводительных вычислений, 
      создания распределённых систем;
      объектно-ориентированного программирования, 
      принципов, шаблонов и методологий проектирования программного обеспечения
  были сформулированы требования к 
  разработанной в диссертации вычислительной среде:
%l: Требования к архитектуре.
  \begin{itemize} 
  \item %l: Компонентность
  компонетность, расширяемость и развиваемость;
  \item %l: Работа в рпспределённой среде
  организация в распределённой среде 
  вычислительных процессов произвольной конфигурации,
  в том числе соответствующей распределённой иерархии АСДУ ЕСГ;
  \item
    минимизация накладных расходов удалённого взаимодействия в распределённой среде;
  \item %l: Высокая производительность, решение сложных задач
   высокая производительность решения вычислительно-сложных задач
   моделирования СГ за счёт полной поддержки параллельных и распределённых
   технологий программирования, в том числе вычислений общего назначения на
   графических картах;
  \item %l:Унифицированное выч. обеспечение вычислительными сервисами
   унифицированное вычислительное обеспечение СППДР АСДУ за счёт
   предоставления вычислительных сервисов на основе стандартных протоколов;
  \item %l: Готовность предоставить единые вычислительные сервисы для ПВК,
  %l: стать базой для создания ЕВП.
   наличие развитых механизмов информационного взаимодействия для интеграции
   с ЕИП АСДУ.
  \end{itemize} 

% (Секция - Архитектура построения вычислительной среды) ----------------------
\section*{Архитектура построения вычислительной среды}
% Три ключевых принципа выделены для реализации сформулированных требований
%   - SOA - реализация сервис-ориентированного подхода средствами middleware
%   - Явное управление выч. ресурсами 
%   - Унифицированный алгоритм разработки вычислительных сервисов
% Эти принципы последовательно раскрыты в работе
  Для реализации перечисленных выше требований при разработке архитектуры 
  вычислительной среды были приняты три ключевых принципа.
  \begin{enumerate}
    \item %l: Сервис-ориентированный подход средствами middleware
      Реализация сервис-ориентированного подхода
      на основе использования компонентного программного обеспечения 
      промежуточного уровня (middleware).
    \item %l: Поддержка явного управления ресурсами (термин раскрывается ниже)
      Обеспечение явного управления вычислительными ресурсами.
    \item %l: Универсальный алгоритм разработки сервисов на базе среды.
      Разработка вычислительных сервисов для среды 
      по унифицированному алгоритму, 
      позволяющему максимально использовать её преимущества.
  \end{enumerate}
% Эти принципы последовательно раскрыты в работе
  Перечисленные принципы последовательно раскрыты в работе.

\subsection*{Реализация сервис-ориентированного подхода средствами middleware}
% (Подсекция - Сервис ориентированный подход средствами middleware) -----------
%   - Сервис
%   - Узел
%   - (взаимоотношение клиентов и серверов)
%   - роль middleware - низкоуровневое взаимодействие
%   - РИСУНОК со схемой взаимодйествия сервисов в распр-й среде
%   - Какие требования позволяет удовлетворить SOA, преимущества
%      - прозрачность расположения, реализации, инвариантность к платформе
  %l: Сервис-ориентированный подход - это ... из сервисов
    Сервис-ориентированный подход заключается в разработке программного
    обеспечения на основе использования слабо-связанных компонентов,
    оснащённых стандартизированными интерфейсами для
    взаимодействия по стандартизированным протоколам
    в распределённой среде~--- сервисов.
  
  %l: Может быть реализован на основе различных технологий,
  %  - популярны Web-сервисы
  %  - но на основании анализа сделан выбор впользу middleware,
  % позволяющему обеспечить большую производительность, 
  % уменьшить накладные расходы
    Для реализации сервис-ориентированного подхода применяются 
    различные технологии, наиболее распространённая из них~--- использование
    SOAP (Single Object Access Protocol) Web-сервисов. 
    Однако, на основе анализа различных технологий, принято решение
    использовать компонентное обеспечение промежуточного уровня (middleware),
    характеризующееся более высокой эффективностью.
    
  %l: Преимущества SOA на middleware
    Сервис-ориентированный подход, реализованный на базе middleware,
     обеспечивает
    \begin{itemize}
      \item
        высокую степень компонентности системы~--- она строится из
        набора слабо-связанных компонентов с чётко определёнными интерфейсами,
        что создаёт предпосылки для гибкости системы;
      \item
        независимость от физического расположения компонент~--- 
        обеспечивается единообразное взаимодействие компонентов 
        как в рамках одного процесса, так и в распределённой среде;
      \item
        инвариантность к платформе~--- поддерживается взаимодействие компонентов,
        работающих под управлением различных операционных систем и аппаратных
        платформ;
      \item
        поддержку различных языков программирования~--- обеспечивается
        взаимодействие компонентов, созданных с использованием различных
        языков и технологий программирования;
      \item
        простоту программирования~--- middleware предоставляет 
        поддержку исполнения синхронных и асинхронных удалённых вызовов, 
        развитую объектную модель, 
        дополнительные инструментальные средства построения распределённых
        компонентных систем;
      \item
        высокую производительность~--- middleware, в отличие от Web-сервисов
        использует эффективные бинарные протоколы, 
        многократно снижающие накладные расходы взаимодействия в 
        распределённой среде.
    \end{itemize}
    
%l: Ввод используемых терминов ------------------------------------------------
%l: Узел и его состав - Выч ресурсы, ОС, ЯП, технологии прогр-я, middleware
  Сервисы в распределённой системе выполняются компьютерами, 
  связанными сетями передачи данных,~--- узлами, 
  каждый из которых:
  \begin{itemize}
    \item %l: Вычислительные ресурсы
      содержит набор вычислительных ресурсов: 
        центральных процессоров (ЦП); 
        GPGPU-видеокарт (General Purpose Graphics Processing Unit); 
        других устройств, способных осуществлять вычисления;
    \item %l: ОС
      работает под управлением той или иной операционной системы: 
      Windows, Linux, Mac OS\dots;
    \item %l: ЯП, ПО, тезнологии параллельного программирования
      выполняет ряд приложений, написанных с использованием тех или иных 
      языков программирования (C++, Java, C\#, Objective-С\dots) и 
      технологий параллельного программирования (OpenMP, MPI, TBB, CUDA\dots);
    \item %l: Middleware
      содержит middleware runtime~--- 
      среду времени выполнения компонентного программного обеспечения
      промежуточного уровня, выполняющую функции адаптера между прикладными
      сервисами и низкоуровневыми механизмами удалённого взаимодействия.
   \end{itemize}

%l: Сервис: интерфейс, исполнитель
  Каждый сервис в системе строится из двух частей: интерфейса и исполнителя. 
    Интерфейс сервиса описывает множество предоставляемых сервисом методов на специализированном языке описания интерфейсов. 
    Исполнитель сервиса реализует методы, объявленные в интерфейсе, 
    функционирует в рамках вычислительных ресурсов узла распределённой системы, 
    принимая и обрабатывая удалённые вызовы методов от клиентов.

%l: Клиент и посредник сервиса
  Сервисы способны как предоставлять некоторую функциональность для клиентов, 
  так и использовать другие сервисы. 
  Таким образом, сервис может одновременно находиться в 
  роли и клиента, и сервера.

%l: Посредник 
  Для использования методов, предоставляемых сервисом, 
  клиент генерирует объект-посредник~--- локальный для клиента объект,
  реализующий интерфейс сервиса~--- и использует его. 
  Посредник устанавливает связь с исполнителем сервиса и переадресует
  локальные вызовы удалённому серверу прозрачно для клиента.

%l: Рисунок - схема взаимодействия сервисов в распределённой среде
    Схема использования сервиса клиентом в распределённой среде 
    представлена на рисунке~\ref{fig:service_interaction_general}.
    \begin{myfigure}[h!] % Схема взаимодействия сервисов в расеределённой среде
      \center{
        \includegraphics[width=1\linewidth]{service_interaction_general.pdf}
      }
      \caption{Схема использования сервиса клиентом в распределённой среде}
      \label{fig:service_interaction_general}
    \end{myfigure}  

% Явное управление вычислительными ресурсами ----------------------------------
\FloatBarrier
\subsection*{Традиционные подходы к управлению вычислительными ресурсами}
% (Подсекция - Явное управление вычислительными ресурсами) --------------------
%   - На основе анализа выделены распространённые подходы к управлению ресурсами
%      - stateles сервисы, системы управления заданиями в HPC кластерах
%   - Что такое явное управление вычислительными ресурсами
%   - С какой целью оно вводится
%   - Как оно реализуется
%      - Вычислительные и служебные сервисы
%      - КВР
%      - Тип КВР
%      - Служебный сервис управления КВР
%      - Служебный сервис Диспетчер КВР
%   - Рисунок с явным управлением вычислительными ресурсами
%   - Алгоритм работы схемы
%     - Этап настройки - установка, формирование КВР, запуск УС, 
%     - Запуск Диспетчера, опр-е мн-ва узлов, управляемых им
%     - Действия клиента для решения задачи
%   - Как явное управление ресурсами реализует то, для чего оно затевалось 
%      - HPC - сопоставление ресурсов и сервисов, 
%      - мин. расходы; упр-е конф. в распр-й среде
%      - Монопольный: целесообазно для HPC, must для CUDA
%   - Stateful благодаря монопольности - пример, + в памяти видеокарты
%   - Контроль над организацией вычислительной конфиг. в распр-й сети
%   - Различные режимы работы за счёт расположения диспетчера и клиента
%      - Локальный однопользовательский
%      - Локально-сетевой с использованием ресурсов локальной сети
%      - Клиент-серверный
%      - Произвольная распределённая иерархия, в т.ч. соответствующая АСДУ ЕСГ
%   - Комбинированный режим

%l: Какие подходы к управлению вычислительными ресурсами в распределённых 
% системах существуют и распространены
% stateless и автоматический, прозрачный load-balancing на сервере приложений
% statefull - состояние объектов может скидываться в БД, потом загружаться
% HPC - кластеры и управления заданиями
  В работе проанализированы и выделены следующие основные подходы к 
  управлению вычислительными ресурсами в распределённых системах.

  \emph{Прозрачное управление вычислительными ресурсами 
    балансировщиком нагрузки.}
    Балансировщик принимает удалённые вызовы методов сервисов от клиентов
    и переадресует их узлам распределённой системы, обеспечивая 
    равномерное распределение нагрузки. 
    Выделяется два типа сервисов.
    \begin{enumerate}
      \item
        Без сохранения состояния~--- вся необходимая информация для исполнения
        сервиса передаётся при каждом вызове. В этом случае распределение 
        нагрузки организуется наиболее просто~--- сервер приложений 
        переадресует вызов клиента наименее загруженному узлу.
      \item
        С сохранением состояния~--- клиент выполняет последовательность операций,
        меняющих состояние объекта и зависящих друг от друга. 
        В этом случае распределение нагрузки осуществляется более сложно. 
        Применяются различные стратегии хранения состояний объектов в
        оперативной памяти, на жёстком диске, в базе данных.
    \end{enumerate}
  
  \emph{Управление вычислительными ресурсами штатной системой очередей 
    вычислительного кластера.}
    Для совместной работы множества пользователей с вычислительными кластерами
    используется следующая система: для запуска расчёта необходимо оформить
    вычислительное задание~--- программу, которую необходимо выполнить,
    и спецификацию необходимых для её выполнения
    вычислительных ресурсов~--- и поставить его в очередь, используя штатную систему
    управления заданиями. 
    Такая система планирует выполнение поставленных в очередь заданий, 
    чтобы максимизировать общую загрузку кластера.
  
% Для многоуровневых итерационных, выч-сложных задач СГ требуются другие возможности
 \subsection*{Явное управление вычислительными ресурсами}
  Для решения вычислительно-сложных многоуровневых итерационных задач 
  моделирования СГ характерны требования, выходящие за рамки традиционных подходов.
  
  \emph{Монопольный доступ клиента к вычислительному ресурсу.}
    В каждый конкретный момент времени с вычислительным ресурсом может работать
    только один клиент, что целесообразно по ряду причин: 
    \begin{itemize}
      \item
        большинство расчётных задач моделирования СГ является вычислительно-сложными
        и могут полностью использовать потенциал ресурса~--- в такой систуации
        разделение вычислительного ресурса между несколькими расчётными процессами
        на основе многозадачности приводит к снижению производительности;
      \item
        для некоторых вычислительных устройств, в частности CUDA-видеоадаптеров,
        использование в режиме многозадачности невозможно из-за недостаточно
        развитых механизмов прерываний, защиты памяти~--- в таком случае 
        организация монопольного доступа необходима.
    \end{itemize}

  \emph{Выделение вычислительным сервисам, использующим технологии
  параллельных~и распределённых вычислений, 
  соответствующих вычислительных ресурсов.} 
  Для функционирования высокопроизводительных вычислительных сервисов 
  требуются специализированные вычислительные ресурсы. 
  Например, для сервиса, 
  использующего вычисления общего назначения на графических картах, 
  требуется соответстующий видеоадаптер;
  для сервиса, использующего технологию программирования MPI,
  требуется несколько узлов с настроенной средой выполнения MPI.

  \emph{Прямой доступ клиента к серверу.}
    В течение монопольной работы клиента с вычислительным ресурсом 
    целесообразно организовать между ними прямой, без посредников, доступ.

  \emph{Поддержка операций с сохранением состояния удалённого 
    вычислительного ресурса без накладных расходов}
    организуется автоматически за счёт монопольной работы клиента с 
    вычислительным ресурсом. 
    В том числе реализуется сохранение состояния памяти удалённого видеоадатера.

  \emph{Управление конфигурацией вычислительного процесса в распределённой среде}
    с использованием наиболее подходящих типов вычислительных ресурсов:
    от персональных компьютеров до ЦОД.
      
% Требуемые возможности реализованы следующим образом
  Перечисленные требования реализованы следующим образом.

%l: Сервисы подразделены на СЛУЖЕБНЫЕ и ВЫЧИСЛИТЕЛЬНЫЕ
  Все сервисы в системе подразделены на две категории: 
    служебные и вычислительные. 
  \begin{itemize}
    \item % Вычислительные
      Вычислительные сервисы решают расчётные задачи.
    \item % Служебные
      Cлужебные сервисы организуют взаимодействие 
      клиентов, сервисов и вычислительных ресурсов в распределённой среде.
  \end{itemize}

%l: КВР - совокупность выч. рес. М.б. из нескольких узлов/подмножество одного
  Введено понятие \emph{комплекта вычислительных ресурсов} 
  как некоторой совокупности вычислительных ресурсов: 
  от подмножества вычислительных ресурсов одного узла до объединения
  нескольких узлов.

%l: ТИП КВР - хар-ка КВР, позволяющая сопоставить КВР и мн-во выч. сервисов
  Каждому комплекту вычислительных ресурсов присваивается
  \emph{тип комплекта вычислительных ресурсов}.
  На основе типа сопоставляются вычислительные сервисы и подходящие для их
  выполнения комплекты вычислительных ресурсов.   

%l: СЛУЖЕБНЫЙ СЕРВИС УПРАВЛЕНИЯ ТИПИЗИРОВАННЫМ КВР - 
  В рамках каждого комплекта вычислительных ресурсов запускается
  \emph{служебный сервис 
  управления типизированным комплектом вычислительных ресурсов},
  предоставляющий методы для запуска вычислительных сервисов
  соответствующего типа в рамках управляемого комплекта.   

%l: СЛУЖЕБНЫЙ СЕРВИС ДИСПЕТЧЕРИЗАЦИИ РЕСУРСОВ - 
  Для явного управления вычислительными ресурсами на одном из узлов
  вычислительной среды запускается
  \emph{служебный сервис диспетчеризации ресурсов}. 
  Его интерфейс предоставляет клиенту возможность 
  установления прямого монопольного соединения с 
  сервисом управления комплектом вычислительных ресурсов заданного типа~---
  для этой операции введён термин <<захват вычислительного ресурса>>.

%l: Рисунок - схема явного управления типизированными ресурсами в распределённой среде
  Схема функционирования явного управления 
  типизированными комплектами вычислительных ресурсов 
  приведена на рисунке~\ref{fig:explicit_resource_management_general}.
  \begin{myfigure}[h!] % Схема явного управления КВР
    \center{
      \includegraphics[width=1\linewidth]{explicit_resource_management_general.pdf} }
    \caption{Схема явного управления комплектами вычислительных ресурсов}
    \label{fig:explicit_resource_management_general}
    \end{myfigure}

%l: Алгоритм работы схемы
  Предложенная схема функционирует по следующему алгоритму.
  
%l: Этап настройки - установка, формирование КВР, запуск УС
  Первоначально выполняется этап формирования вычислительной среды.
  На узлах распределённой системы 
  формируются типизированные комплекты вычислительных ресурсов и 
  запускаются соответствующие служебные сервисы 
  управления комплектами ресурсов.
%l: Запуск диспетчера, определения мн-ва узлов, управляемых им.
  На одном из узлов запускается сервис диспетчеризации комплектов ресурсов.
  Сервисы управления комплектами вычислительных ресурсов 
  регистрируются в сервисе диспетчеризации, 
  передавая ему свои объекты-посредники. 
  Полученные посредники собираются сервисом диспетчеризации в 
  типизированные пулы (для каждого типа посредника организуется свой пул).
  Тем самым формируется множество комплектов
  вычислительных ресурсов, управляемых сервисом диспетчеризации.

%l: Действия клиента для решения задачи.
  Для осуществления своих вычислительных потребностей клиент 
  инициирует следующую последовательность действий:
  \begin{enumerate}
  \item % 1: Запрос КВР необходимого типа у диспетчера
    Клиент определяет, какой тип комплекта вычислительных ресурсов поддерживает
    выполнение необходимой ему операции и 
    запрашивает у сервиса диспетчеризации
    объект-посредник комплекта вычислительных ресурсов необходимого типа.

  \item % 2: Установление прямого монопольного канала - Захват
    Сервис диспетчеризации обеспечивает установление прямого монопольного
    соединения между клиентом и сервисом управления комплектом ресурсов 
    запрошенного типа, передавая клиенту объект-посредник, изъятый из 
    соответствующего пула. 

  \item % 3: Вызов методов УС для запуска вычислительных сервисов.
    Клиент использует методы сервиса управления комплектом 
    вычислительных ресурсов для запуска необходимых вычислительных сервисов на
    захваченном комплекте вычислительных ресурсов.

  \item % 4: Вызов методов запущенных ВС для выполнения работы.
    Клиент выполняет удалённые вызовы методов запущенных 
    вычислительных сервисов для выполнения необходимой работы.

  \item % 5: Освобождение захваченного ресурса и возвращение его в соотв. пул
    Клиент освобождает захваченный вычислительный ресурс, и 
    посредник его сервиса управления возвращается 
    сервисом диспетчеризации в соответствующий пул.
  \end{enumerate}

  \subsection*{Формирование различных конфигураций вычислительного процесса}

%l: Контроль над организацией выч. процесса за счёт выбора клиентом диспетчера
  Контроль над 
  организацией вычислительного процесса в распределённой среде
  достигается за счёт выбора клиентом сервиса диспетчеризации, 
  у которого он запрашивает необходимый комплект вычислительных ресурсов~---
  тем самым клиент определяет пул, из которого ему будет выделен 
  комплект вычислительных ресурсов.

  За счёт комбинаций взаимного расположения сервиса диспетчеризации, множества
  управляемых им вычислительных ресурсов, и клиентов организуются следующие
  режимы работы:
%l: Различные режимы работы за счёт расположения диспетчера и клиента
  \begin{enumerate}
    \item \emph{Однопользовательский режим}.
      Cервис диспетчеризации и управляемые им комплекты вычислительных ресурсов 
      находятся на компьютере клиента. 
      Набор доступных вычислительных сервисов ограничивается типом комплекта 
      вычислительных ресурсов клиента.

    \item \emph{Клиент-серверный режим}.
      Комплекты вычислительных ресурсов сосредоточены в рамках 
      сервера моделирования~--- множества узлов, обладающих вычислительными
      ресурсами, достаточными для одновременного обслуживания множества клиентов~---
      в том числе в работе расмотрено использование эластичных облачных 
      вычислительных ресурсов.
      Вычислительные ресурсы сервера управляются одним сервисом диспетчеризации,
      удовлетворяющим запросы вычислительных ресурсов от клиентов. 
      Клиенты освобождены от вычислительной нагрузки.      

    \item 
    \emph{Использование вычислительных ресурсов клиентов в локальной сети.}
      На компьютерах клиентов формируются комплекты вычислительных ресурсов; 
      на одном из компьютеров запускается сервис диспетчеризации, 
      управляющий всеми ресурсами.
      Каждый клиент получает возможность расширить набор доступных ему 
      вычислительных ресурсов за счёт свободных мощностей соседних компьютеров.

    \item \emph{Распределённый режим}.
      Организация вычислительного процесса в распределённой системе, 
      соответствующей иерархии диспетчерского управления,
      осуществляется следующим образом.
      Комплекты вычислительных ресурсов,
      расположенные на серверах диспетчерских служб различных уровней~--- 
      ЦПДД, ПДС ЭО, ДП ЛПУ~---
      управляются соответствующими сервисами диспетчеризации. 
      
      Варианты организации вычислительных процессов:
      \begin{itemize}
        \item
          ЦПДД~--- ПДС ЭО: ЦПДД требуется организовать итерационный
          многоуровневый вычислительный процесс,
          отдельные части которого выполняются на уровне ПДС~ЭО, 
          а общее управление ведётся на уровне ЦПДД.
          Для этого запускается вычислительный сервис, работающий на 
          вычислительных ресурсах ЦПДД, который, в свою очередь, запрашивает
          дополнительные комплекты вычислительных ресурсов у 
          сервисов диспетчеризации уровня ПДС~ЭО.
        \item
          ПДС ЭО~--- ЦПДД: ПДС ЭО требуется быстрое решение 
          вычислительно-сложной задачи. 
          ПДС ЭО~запрашивает мощный вычислительный ресурс у сервиса диспетчеризации
          уровня ЦПДД (или одного из ЦОД АСДУ) и выполняет с его использованием
          решение необходимых задач.
      \end{itemize}                
  \end{enumerate}

  Перечисленные выше режимы комбинируются, например, 
  при организации иерархического процесса взаимодействия 
  ЦПДД~--- ПДС ЭО на уровне ПДС~ЭО для решения расчётных задач
  целесообразно использовать вычислительные ресурсы локальной сети.

% -----------------------------------------------------------------------------
%l: Алгоритм разработки вычислительных сервисов в разработанной среде----------
\subsection*{Унифицированный алгоритм разработки вычислительных сервисов}
%l: Зачем создаётся алгоритм
  Построение вычислительной среды на основе сервис-ориентированного подхода,
  наличие развитых средств для создания высокопроизводительных сервисов
  создают предпосылки для высокой степени модульности, гибкости, 
  производительности системы,
  однако, не могут  их гарантировать.

%l: Какие задачи стоят перед алгоритмом
  Унифицированный алгоритм разработки вычислительных сервисов в 
  предложенной вычислительной среде введён для 
  достижения следующих целей:
  \begin{itemize}
    \item %l: сервисы соответствуют архитектуре, исп-ют её преимущества
    обеспечение соответствия вновь разрабатываемых сервисов архитектуре 
    вычислительной среды и максимальное использование её преимуществ;
    \item %l: сохранение лёгкости внесения изменений по мере внедрения новых С-в
    сохранение лёгкости и простоты внесения изменений в систему по мере 
    разработки новых вычислительных сервисов;
    \item %l: высокая производительность
    обеспечение высокой производительности разрабатываемых сервисов.
  \end{itemize}

%l: Этапы алгритма:
 Алгоритм состоит из следующих этапов.

 \begin{enumerate} 
  \item \emph{Проектирование схемы классов}
    решения вычислительного сервиса
    с испольованием языка моделирования UML,
    принципов и шаблонов объектно-ориентированного программирования
    на трёх взаимосвязанных уровнях: концепций, интерфейсов и реализаций.

  \begin{itemize}%[label*=\arabic*.]
    \item На уровне концепций 
      выявляются основные взаимодействующие сущности, 
      их ответственности и взаимодействие для решения поставленной задачи. 
      На основе анализа вариаций основных концепций выделяются части программы, 
         подверженные изменениям~--– они инкапсулируются 
         в виде семейств взаимозаменяемых классов.
     
     \item На уровне интерфейсов
       разрабатываются абстрактные интерфейсы, 
       описывающие взаимодействие выявленных концепций для решения задачи. 
       Результатом проектирования на этом уровне 
       становится набор абстрактных интерфейсных классов.
     
     \item На этапе реализации
       уточняются требования к интерфейсам, 
       вносятся соответствующие изменения.
  \end{itemize}
   
 
 \item \emph{Разработка тестов в терминах абстрактных интерфейсов}
   для выполнения в системе автоматического тестирования 
   осуществляется до реализации,
   что позволяет тестировать реализации интерфейсов единым образом.
 
 \item \emph{Реализация абстрактных интерфейсов вычислительными сервисами }
   осуществляется на следующих этапах:
   \begin{itemize}    
     \item 
       разрабатывается исполнитель сервиса, реализующий интерфейсные методы;
     \item 
       определяются типы вычислительных ресурсов, 
       подходящих для выполнения разработанного сервиса; 
       в интерфейсы соответствующих сервисов управления ресурсами добавляются 
       методы запуска разработанного сервиса.
   \end{itemize}
 
 \item \emph{Тестирование корректности и производительности} 
   разработанного сервиса осуществляется на основе разработанных сервисов 
   в автоматической системе тестирования. 
   Реализация сервиса дорабатывается до тех пор, пока она не сможет 
   удовлетворить всем сформулированным тестам.
 
 \item \emph{Внесение изменений в систему} 
   как правило требуется в процессе эксплуатации.
   Изменения, вносимые в систему, разделяются на две группы.
   \begin{itemize}%[label*=\arabic*.]
     \item Без изменения функциональности~--- 
        улучшение архитектуры классов, 
        скорости и эффективности выполнения задач.
        Целостность системы 
        контролируется работой автоматических тестов: 
        ни один тест не должен перестать показывать корректность работы.         
    \item С изменением функциональности~--- 
          новая функциональность, 
          модификация существующей, 
          устранение ошибок.
          В этом случае происходит возвращение на этап проектирования. 
   \end{itemize}
 \end{enumerate}

% Результат применения алгоритма

% Антимонолитность построенной архитектуры вкупе с алгоритмом
  В результате применения предложенного алгоритма
  решение каждой вычислительной задачи
  представляется в виде совокупности слабо-связанных,
  взаимозаменяемых сервисов, 
  динамически запускаемых, останавливаемых и взаимодействующих в 
  распределённой среде.

%------------------------------------------------------------------------------
%l: Выбор технологий реализации предложенных абстрактных решений --------------
  С целью выбора наиболее подходящих технологий реализации 
  предложенной архитектуры 
  в работе проведён сравнительный обзор современных технологий 
    гетерогенного параллельного программирования, 
    распределённого программирования, 
    создания распределённых систем. 
  Осуществлён выбор, 
  представленный в таблице~\ref{tbl:choose_programming_technoligies}.

  \begin{mytable}[h] % Выбор технологий программирования
    \caption{Технологии реализации вычислительной среды}
    \label{tbl:choose_programming_technoligies}
    \begin{center}  
    \begin{tabulary}{1\textwidth}{@{}JJJ@{}}   \toprule
      \textbf{Категория}      & 
      \textbf{Технология}          & 
      \textbf{Назначение}     \tabularnewline  \midrule
      Программирование систем с общей памятью                                 & 
      OpenMP, Intel TBB, библиотеки численных методов                         & 
      Программирование сложных, разветвлённых алгоритмов 
                                    \\

      Программирование высоко-параллельных вычислений                         & 
      CUDA, библиотеки численных методов                                      & 
      Программирование простых алгоритмов, обладающих высокой степенью параллелизма
                                    \\    

      Программирование вычислительных кластеров                               & 
      MPI                                                                     & 
      Программирование наиболее вычислительно сложных задач                  \\

      Компонентное middleware                                                 &
      ZeroC ICE                                                               & 
      Использование в качестве базы построения распределённой системы       \\
      \bottomrule
    \end{tabulary}  
    \end{center}
  \end{mytable}

  Выбранные технологии в большей степени, нежели их конкуренты, 
  отвечают следующим требования:
  \begin{itemize}
    \item
      кросс-платформенность;
    \item 
      высокоуровневость модели программирования;
    \item
      производительность.
  \end{itemize}

  Перечисленные технологии предпочтительны при разработке вычислительных
  сервисов для предложенной в работе среды, однако модульность системы 
  позволяет при необходимость использовать так же
  и любые другие технологии программирования.

% -----------------------------------------------------------------------------
%l: Проектирование вычислительных сервисов -----------------------------------
\section*{Проектирование вычислительных сервисов}
%l: Базовый комплекс задач и его состав
  В работе проведён анализ структуры задач моделирования режимов СГ 
  и выделен базовый комплекс расчетных задач, 
  включающий в себя следующие основные процедуры: 
  \begin{itemize}
    \item 
      расчёт свойств газа и газового потока;
    \item 
      процедуры моделирования режимов отдельных объектов СГ:       
        трубопроводы, 
        крановые системы, 
        аппараты воздушного охлаждения, 
        газоперекачивающие агрегаты;        
    \item
      процедуры моделирования подсистем СГ:      
        трубопроводные системы, 
        компрессорные цеха, 
        магистральные газопроводы, 
        газотранспортные системы.      
  \end{itemize}

%l: Задачи более высокого уровня основаны на базовом комплексе 
  На основе процедур базового комплекса расчетных задач решаются 
    задачи более высокого уровня, в частности, 
    задачи оптимизации и прогнозирования режимов СГ, 
    мониторинга фактического состояния СГ, ситуационного анализа,
    идентификации эмпирических параметров модели.

%l: Задачи более высокого уровня - многоуровневые итерационные
  Многие высокоуровневые расчётные задачи, 
  основанные на использовании базового комплекса представляют собой
  многоуровневые иерархические вычислительные процессы, в которых
  моделирование режима отдельной СГ является основным вычислительным элементом. 
  Эффективное решение таких задач требует организации одновременного
  моделирования нескольких режимов СГ в распределённой среде с
  использованием параллельных вычислений для моделирования каждого из режимов.

%l: Какие задачи спроектированы и реализованы в работе:
% моделирования СГ и идентификации эмпирических параметров модели СГ
  В диссертационной работе спроектированы и реализованы
  распараллеленные и распределенные вычислительные сервисы решения 
  следующих задач:
  \begin{itemize}
    \item 
      моделирования режимов СГ;
    \item 
      идентификации эмпирических параметров модели СГ.
  \end{itemize}

% -----------------------------------------------------------------------------

% Задача моделирования режимов СГ
\subsection*{Задача моделирования режимов систем газоснабжения}
%l: Постановка задачи моделирования режимов СГ
% Расчётный граф, его дуги, узлы
  Для решения задачи моделирования режимов 
  топология системы газоснабжения задаётся
  условно-ориентированным (дуги имеют направление потоков газа, 
    но оно может изменяться в процессе расчётов) «расчётным графом»
    \begin{equation}\label{eq:graph_of_gts}
      G = \left(V, E\right), \big| V \big| = m, \big| E \big| = n.
    \end{equation}
  $V$~--- множество узлов графа, $E$~--- множество дуг.

  % Что такое дуги, и что такое узлы
  Дугам графа соответствуют моделируемые технологические объекты, 
  участвующие в перекачке газа (трубопроводы, 
    крановые системы, 
    ГПА, 
    КЦ
    и так далее),~--– 
  узлы графа соединяют входы/выходы дуг~--- 
  соответствующих моделируемых объектов.

  % Краевые условия
  В краевых узлах графа задаются параметры газового потока, 
  необходимые для расчёта режима.
  
%l: Общий вид процедуры моделирования объекта - формула
  Для каждого моделируемого объекта задаётся расчётная процедура следующего вида:
  \begin{equation}\label{eq:_common_object_model} % Общий вид моделир-го объекта
    \{  
        T_{ \text{вых} }, q  
    \} = 
    f 
      \left(
        P_\text{ вх  }, 
        P_\text{ вых }, 
        T_\text{ вх  }, 
        Gas,         
        Environment,
        Object
      \right)
  \end{equation}

%l: Расшифровка формулы 
  Процедура~\eqref{eq:_common_object_model} позволяет рассчитать 
  расход и температуру газа на выходе объекта 
  по заданным параметрам:     
    давления на входе и выходе, 
    температура на входе, 
    компонентный состав газового потока, 
    параметры внешней среды и 
    параметры объекта:
    нормативно-справочные (паспортные) данные;
    параметры фактического состояния;
    режимно-технологические ограничения.     
    
    
% Сокращённый вид формулы
  Для сокращения выкладок используется упрощённый вид
  процедуры~\eqref{eq:_common_object_model}:
  \begin{equation}\label{eq:common_object_model_simle}
    q\left(P_{ \text{вх} }, \, P_{ \text{вых} }\right)
  \end{equation}
  При этом подразумевается, что все необходимые параметры заданы.


%l: Постановка задачи - что требуется найти
  Решение задачи состоит в определении поля давлений и температур 
  во всех узлах графа, 
  обеспечивающего баланс потоков по дугам во всех узлах графа, и 
  соблюдение всех режимно-технологических ограничений расчетных объектов.

%l: Метод решения задачи - метод узловых давлений
  Эта задача решается итерационным ($l$~--- номер текущей итерации) 
  \emph{методом узловых давлений}, 
  состоящим из следующих этапов:
%l: Этапы метода узловых давлений
  \begin{enumerate}
    \item % 1. Начальное приближение температур и давлений
      Задание начального поля давлений и температуры газа 
      $\{ P_k^0, T_k^0 \}$ 
      в узлах графа.

    \item % 2. Расчёт всех расходов
      Расчёт расхода по каждой дуге по формуле~\eqref{eq:common_object_model_simle}.

    \item % 3. Проверка условия завершения
      Проверка наличия существенных дисбалансов в узлах графа.
      \begin{equation}\label{eq:condition_of_balance_in_every_node}   
        \big| \delta q_{k}^{ l+1 } \big| < \varepsilon_{q}, 
        \text{k --- номер узла}, \varepsilon_{q} \text{ --- точность балансирования.}
      \end{equation}
      Если дисбалансов нет, алгоритм завершён, иначе~--- переход к следующему шагу.

    \item % 4. Формирование СЛАУ за счёт линеаризации
      Формирование системы уравнений баланса потоков газа в каждом $k$-м узле 
      графа в соответствии с $1$-м законом Кирхгофа:
      \begin{equation}\label{eq:Kirhgof_Law}
        \delta q_{k}^{ l+1 } =
          \sum_{i=1}^{ N_{k} }
            q_{i,k}^{l+1}
            \left(
                P_{ i,{\text{вх}}  }^{ l+1 }, \,
                P_{ i,{\text{вых}} }^{ l+1 }
            \right)-Q_{k}=0,
      \end{equation}
      где $Q_k$~--- заданные притоки или отборы газа в $k$-м узле, 
      $N_k$~--- количество инцидентных $k$-му узлу дуг.

     Расход линеаризуется по формуле Тейлора:      
      \begin{equation}\label{eq:q_Taylor_series}
        q_i^{l+1}
        \left(
          P_{ i,\text{вх}  }^l, 
          P_{ i,\text{вых} }^l
        \right) \simeq
        q_i^l + 
        \frac
          { 
            \partial q_i^l
          }
          {
            \partial P_{ i, \text{вх} }^{l+1}
          } 
        \Delta P_{ i,\text{вх} }^{l+1} +
        \frac
          {
            \partial q_i^l
          }
          {
            \partial P_{ i, \text{вых} }^{l+1}
          } 
        \Delta P_{ i,\text{вых} }^{l+1}    
      \end{equation}
      и подставляется в соответствующие уравнения \eqref{eq:Kirhgof_Law}. 
      В результате формируется система линейных уравнений 
      относительно $\Delta P^{l+1}$.

    \item % 5. Решение СЛАУ и новое приближение
      Решение системы линейных уравнений,
       расчёт нового поля давлений газа в узлах графа:
      \begin{equation}
        \label{eq:SLAE_of_balances_next_iter}
        P_k^{l+1} = P_k^l + g \cdot \Delta P_k^{l+1},
      \end{equation}      
      $g$ - регуляризационный параметр. 

    \item % 6. Расчёт расходов по всем дугам при новых давлениях, огр-я
      Расчет по каждой дуге расхода потока газа при новом поле давлений по 
      формуле~\eqref{eq:common_object_model_simle}.
      
      Если для каких-то объектов 
      происходит нарушение режимно-технологических ограничений, 
      осуществляется коррекция значения 
      \eqref{eq:SLAE_of_balances_next_iter} параметром $g$. 

    \item % 7. Проверка условия уменьшения дисбаланса
      Вычисление расчетного суммарного дисбаланса потоков газа в узлах графа
      \begin{equation}\label{eq:disbalace_sum_on_next_iter}
        F^{l+1} = \sum_{k=1}^{m} \delta q_k^{k+1}
      \end{equation}
      Выбор параметра $g$ для выполнения условия $F^{l+1}>F^l$.

      Переход к проверке условия завершения алгоритма (шаг 3).
    \end{enumerate}
% -----------------------------------------------------------------------------

% Проектирование вычислительного сервиса моделирования режимов СГ
\subsection*{Проектирование вычислительного сервиса
 моделирования режимов систем газоснабжения}

%l: Какие шаги в алгоритме можно распараллелить, почему и за счёт чего.
  Вычислительный сервис моделированмия режимов систем газоснабжения 
  реализует метод узловых давлений с распараллеливанием следующих этапов.

  \emph{Расчёт расходов по дугам графа} 
  на шагах $2, 6$ осуществляется параллельно,
  на основании независимости всех вычислений. 

      Разработано специализированное решение для эффективного решения этой задачи.
      Все дуги расчётного графа разбиваются на группы по типам~--- формируются
      векторы однотипных расчётных объектов. 

      Для каждого вектора расчётных объектов разработан свой менеджер параллельного
      расчёта, осуществляющий эффективное размещение в памяти и
      параллельное моделирование  управляемых объектов.
      Для координации совместной работы всех менеджеров параллельного расчёта 
      разработан сервис-суперменеджер.
    
      \emph{Решение системы уравнений}~--- применяется разработанный вычислительный
      сервис, основанный на использовании оптимизированной библиотеки 
      численных методов.
  
  
%l: Сервисы для решения задачи моделирования СГ
  Для вычислительного сервиса решения задачи моделирования режимов СГ 
  разработаны все необходимые сервисы:
  \begin{itemize}
    \item % Загрузка схемы из хранилища (БД и др.)
      сервис загрузки параметров объектов расчетной схемы из хранилища;
    \item % Мереджеры параллельного моделирования
      сервисы менеджеров параллельного моделирования режимов дуг всех типов, 
      составляющих расчетную схему;
    \item % Суперменеджер
      сервис суперменеджер, координирующий параллельную работу менеджеров 
      расчета режимов пулов дуг схемы;
    \item % Сервис решения СЛАУ
    сервис параллельного решения систем уравнений.
  \end{itemize}

%l: Исллюстрация взаимодействия сервисов
  Схема взаимодействия сервисов для 
  параллельного моделирования расчётных объектов представлена 
  на рисунке~\ref{fig:UML_interaction_for_balancing}.
  \begin{myfigure}[h!]
    \center{
      \includegraphics[width=1\linewidth]{UML_interaction_for_balancing.pdf}
    }
    \caption{Параллельное моделирование объектов расчётной схемы}
    \label{fig:UML_interaction_for_balancing}
  \end{myfigure}

%l: Какие выч. ресурсы треб-ся сервисам -> КВР для составного сервиса
  Для работы вычислительных сервисов, используемых сервисом
  моделирования режимов СГ требуются следующие вычислительные ресурсы:
  \begin{itemize}
    \item Многоядерный центральный процессор для
      \begin{itemize}
        \item 
          организации вычислительного процесса моделирования;
        \item 
          параллельного моделирования расчётных объектов, обладающих сложными
          вычислительными моделями, соответствующими менеджерами параллельного
          моделирования;
      \end{itemize}
    \item GPGPU-видеокарта CUDA для
      \begin{itemize}
        \item
          параллельного моделирования режимов многочисленных объектов,
          обладающих простыми вычислительными моделями, таких как трубопроводы;
        \item
          решения систем линейных алгебраических уравнений с использованием
          оптимизированной библиотеки численных методов.
       \end{itemize}
  \end{itemize}

  Таким образом, для эффективного выполнения вычислительного сервиса
  моделирования режимов СГ необходим комплект вычислительных ресурсов,
  содержащий центральный процессор и CUDA-видеокарту,
  тип такого комплекта вычислительных ресурсов назван <<ЦП + CUDA>>.
  
%l: Иллюстрация выч. сервиса моделирования СГ на соотв. КВР
  Схема выполнения вычислительного сервиса на 
  комплекте вычислительных ресурсов типа <<ЦП + CUDA>> 
  представлена на рисунке~\ref{fig:service_gts_online}.

  \begin{myfigure}[h!]
    \center{
      \includegraphics[width=1\linewidth]{service_gts_online.pdf}
    }
    \caption{Сервис расчёта режима системы газоснабжения}
    \label{fig:service_gts_online}
  \end{myfigure}

% -----------------------------------------------------------------------------
%l: Выч. сервис адаптации модели (Идентификации пар-в модели) -----------------
\subsection*{
  Задача идентификации эмпирических параметров модели СГ}

%l: Что такое задача адаптации (идентификации)
  Идентификация параметров модели режима СГ производится для повышения 
  адекватности расчётных результатов модели, то есть их приближения
  к замеряемым значениям параметров газового потока в системе.   
%l: Почему она выбрана для реализации - вычислительно сложная, м.б. ускорена  
  Решение этой задачи требует большого объёма вычислений и
  имеет потенциал для многократного ускорения с использованием 
  параллельных и распределённых вычислений 
  в разработанной автором вычислительной среде.

%l: Входные данные для задачи - моделиров-е СГ + замеры + эмпир-е пар-ы
  В качестве исходных данных задачи 
  задаются те же данные, что и для расчёта режима СГ, а также 
  дополнительная, избыточная информация~--–
  множество значений замеров параметров газового потока в некоторых 
  контрольных узлах СГ. 
%l: В качестве замерные значения часто задаются
  В качестве замеров часто используются:
  \begin{itemize}
    \item 
      $P_i^{*}, T_i^{*}$ -
      замеры давления и температуры газа на входах и выходах КЦ, ГПА;
    \item $Q_i^{*}$ - 
      расходы газового потока, замеряемые на газо-измерительных станциях (ГИС).
  \end{itemize}

%l: В качестве идентифицируемых эмпирических параметров исп-ся:
  Идентифицируются, как правило, следующие параметры модели:  
  \begin{itemize}
    \item  
      $K_{\text{то}}, K_{\text{эф}}$ - 
      коэффициенты теплообмена и гидравлической эффективности трубопроводов;
    \item  $K_{\eta}, K_N$ - 
      интегральные по КЦ поправочные коэффициенты 
      на газодинамические характеристики 
      центробежных нагнетателей (ЦБН) однотипных ГПА, 
      индивидуальные коэффициенты технического состояния ГТУ и ЦБН ГПА 
      и так далее.
  \end{itemize}

%l: Ввод необходимых обозначений: идентиф-е, расчётные, замеряемые пар-ры
  Вводятся следующие обозначения:  
  $\vec{a} \in  \mathbb{R}^{n_a}$, вектор идентифицируемых параметров расчетной модели.
  $\vec{p}^{*} \in \mathbb{R}^{n_p}$ и 
  $\vec{p} \in \mathbb{R}^{n_p}$~--- векторы замеряемых и расчётных 
  параметров режима соответственно.

%l: p=f(a)
  Множество расчётных параметров $\vec{p}$ модели процесса 
  является функцией идентифицируемых параметров $\vec{a}$:
  \begin{equation}\label{eq:adaptation_model_of_GTS}
    \vec{p} = 
      f
      \left(
        \vec{a}
      \right)
  \end{equation}

%l: Минимизация критерия рассогласования p* и p, МНК ()
%ToDo - используется МНК в качестве критерия - плохо сказано
  Задача идентификации эмпирических параметров модели в общем виде сводится к минимизации некоторого критерия рассогласования 
  $\vec{p}^{*}$ и $\vec{p}$, 
  в качестве которого обычно используют сумму 
  нормированных квадратов разностей
  \begin{equation}\label{eq:adaptation_least_squares}
    F = \min_{\vec{a}} \sum_{r=1,\dots n_p} 
      \left( 
        \frac { p_r^{*} - p_r( \vec{a} ) } 
              { p_r^{*} }
      \right)^2 
  \end{equation}

%l: Решение задачи минимизации рассогласов-я можно методом чувствительности
  Для решения задачи~\eqref{eq:adaptation_least_squares} применяются различные 
  методы, в частности, \emph{метод чувствительности},
  состоящий в итерационном приближении искомого вектора эмпирических параметров:
  \begin{equation}\label{eq:adaptation_next_iter}
    \vec{a}^{l+1} = \vec{a}^l + g \cdot \Delta \vec{a}^{l+1},
  \end{equation}
  $g$~--- регуляризационный параметр.

  %l: Условие минимума функционала - СЛАУ производных = 0
  Условием минимума \eqref{eq:adaptation_least_squares} являестся 
  система уравнений
  \begin{equation}\label{eq:adaptation_min_condition_SLAE}
    \frac { \partial F^{l+1} }
          { \partial \Delta a_k^{l+1} }
     \text{ для } k = 1, \dots n_a
  \end{equation}

  Функционал~\eqref{eq:adaptation_model_of_GTS} линеаризуется по
  формуле Тейлора:
  \begin{equation}\label{eq:adatptation_Taylor_series}
    p_r(\vec{a}^{l+1}) = 
      p_r(\vec{a}^l) + 
        \sum_{i=1}^{n_a}
          \left( \frac
            {\partial p_r(a^l)} 
            {\partial a_i^l} 
          \Delta a_i^{l+1}
          \right) 
  \end{equation}

%l: Выкладки для сведения к СЛАУ: ряд Тейлора в критерий НК
  Подставляя \eqref{eq:adatptation_Taylor_series} в 
  \eqref{eq:adaptation_min_condition_SLAE} и выполняя ряд преобразований,
  получаем систему уравнений относительно $\Delta a_i^{l+1}$:
%l: Ещё выкладки и получили результат
%%Перенесём в \eqref{eq:adaptation_chuvst_prev} коэффициенты при 
%%  $\Delta a_i^{l+1}$ в левую часть и получим:
  \begin{equation}\label{eq:adaptation_chuvst_final}
    \sum_{i=1}^{n_a}  
      \sum_{r=1}^{n_p} 
      \left(
        \frac{1} {p_r^{*}} 
         \frac{\partial p_r^l} {\partial a_i^l} 
         \frac{\partial p_r^l} {\partial a_k^l} 
      \right) \Delta a_i^{l+1}
      =
    \sum_{r=1}^{n_p}   
       \frac{1} {p_r^{*}}     
       \left( p_r^{*} - p_r^l \right)          
       \left( \frac{\partial p_r^l} {\partial a_k^l} \right) , k = 1 \dots n_a
  \end{equation}

  %l: Итерационная процедура построения решения
  Процедура метода чувствительности 
  строится за счёт итерационного формирования, решения 
  системы линейных уравнений \eqref{eq:adaptation_chuvst_final}, 
  и вычислении поправок $\Delta a_i^{l+1}$ 
  к идентифицируемым параметрам модели.

%  \begin{equation}\label{eq:adaptation_F_to_minimize}
%    F = \min_{\vec a}
%    \sum_{r=1\dots n_p}
%    \left(
%      \frac 
%        { \left(
%            p_r^* - p_r(\vec{a}^l) - 
%              \sum_{i=1}^{n_a} 
%                \Big[ \frac{\partial p_r(a^l)} 
%                       {\partial a_i^l} 
%                \Delta a_i^{l+1}\Big]
%          \right)^2 
%        }
%        { {p_r^{*}}^2 }
%    \right)
%  \end{equation}  

%l: Ещё выкладки
%  Дифференцируем \eqref{eq:adaptation_F_to_minimize} и запишем 
%  \eqref{eq:adaptation_min_condition_SLAE} в следующем виде:
%  \begin{equation}\label{eq:adaptation_chuvst_prev}
%    \sum_{r=1}^{n_p}   
%       \frac{1} {p_r^{*}}
%       \left(
%         p_r^{*} - p_r^l - 
%            \sum_{i=1}^{n_a} 
%              \left(\frac {\partial p_r^l} {\partial a_i^l} \Delta a_i^{l+1} \right)
%          \left(
%            - \frac{\partial p_r^l} {\partial a_k^l}
%          \right)
%       \right) = 0, k = 1 \dots n_a
%  \end{equation}

%l: Частные производные аппроксимируем разностным отношением
%  Частные производные  
%  $\frac {\partial p_r^l} {\partial a_k}$ в \eqref{eq:adaptation_chuvst_final}
%  можно численно оценить, используя разностные операторы:
%  \begin{equation}\label{eq:partial_derivative_numerical}
%    \frac {\partial p_r} {\partial a_k} = 
%    \frac 
%      { 
%        f
%          \left( 
%              \vec{a}_k^{+} 
%          \right) 
%        - 
%        f
%          \left( 
%              \vec{a}_k 
%          \right) 
%      } 
%      {\delta},
%  \end{equation}
%  где 

%l: Можно применить центральную разность - точнее, сложнее, больше эффект
%  Можно применить разностные операторы более высокого порядка точности, 
%  однако это потребует дополнительных вычислительных ресурсов, 
%  хотя при этом эффект распараллеливания процесса будет выше.

% -----------------------------------------------------------------------------
% Проектирование вычислительного сервиса идентификации ------------------------
%l Для численной аппроксимации производных требуется вычислитль n_a + 1 режимов СГ
  Для численной аппроксимации производных в \eqref{eq:adaptation_chuvst_final}
  требуется вычислние $n_a + 1$ режимов СГ при следующих значениях
  вектора эмпирических параметрво модели:
  \begin{equation}\label{eq:adaptation_a_k_plus_delta}
    \vec{a}       = \left(a_1, a_2, \dots, a_k +       , \dots, a_{n_a} \right);\,
    \vec{a}_k^{+} = \left(a_1, a_2, \dots, a_k + \delta, \dots, a_{n_a} \right),
    k = 1\dots n_a
  \end{equation}
 
 %l: Размерность задачи ещё многократно возрастёт, если временные ряды замеров.
  Размерность задачи многократно возрастает при использовании
  множества замеров на различных уровнях квантования временного отрезка
  $t = [t_0, t_j]$, когда имеется временной ряд замеров.

  %l: независимый расчёт многих режимов в распределённой среде.
  %l: Целесообразность распределения нагрузки в распр-й среде
    Расчёты всех необходимых режимов СГ независимы, поэтому целесообразно
    осущесвлять их одновременно. Расчёт даже одного режима СГ с помощью
    разработанного в работе вычислительного сервиса полностью использует
    вычислительные ресурсы отдельного узла. Поэтому необходимо организовать
    одновременный расчёт множества режимов СГ на разных узлах~---
    многоуровневый итерационный вычислительный процес в распределённой среде.

%l: Иллюстрация - сервис идентификации в распр-й среде на достаточных ресурсах
  Схема работы вычислительного сервиса идентификации эмпирических
  параметров модели в распределённой вычислительной среде 
    представлена на рисунке~\ref{fig:service_adaptation}.
  \begin{myfigure}[h!]
     \center{
       \includegraphics[width=1\linewidth]{service_adaptation.pdf}
    }
    \caption{Схема работы вычислительного сервиса идентификации
    эмпирических параметров модели СГ в распределённой среде}
    \label{fig:service_adaptation}
  \end{myfigure}

  Работа вычислительного сервиса состоит из следующих этапов.
    \begin{enumerate}
    \item % 1. Запрос ресурса типа ЦП+CUDA
      Клиентский ПВК СППДР запрашивает у сервиса диспетчеризации
      комплект вычислительных ресурсов типа <<ЦП + CUDA>> для последующего
      запуска на нём сервиса идентификации.
    \item % 2. Захват ресурса типа ЦП+CUDA 
      Сервис диспетчеризации организует монопольный доступ клиента
      к вычислительному ресурсу~--- осуществлён захват ресурса.
    \item % 3. Запуск сервиса идентификации на КВР
      Клиент запускает сервис идентификации на 
      захваченном комплекте вычислительных ресурсов.
    \item % 4. Клиент запускает сервис
      Клиент вызывает метод <<произвести идентификацию>> запущенного сервиса.
    \item % 5. Запрос доп. КВР сервисом идентификации
      Сервис идентификации запрашивает у сервиса диспетчеризации       
      дополнительные комплекты вычислительных ресурсов для 
      последующего осуществления на них моделирования отдельных режимов СГ.
    \item % 6. Получение ресурсов
      Сервис идентификации захватывает запрошенные коплекты ресурсов.
    \item % 7. Запуск сервисов моделирования СГ на звахваченных КВР.
      Выполнение расчётов.
      \begin{itemize}
        \item % Загрузка СГ 
          Сервис идентификации запускает на каждом из захваченных ресурсов 
          сервис расчёта режима СГ и вызывает метод загрузки адаптируемой СГ 
          на каждом из них.
        \item % Формирование очереди векторов а
          На каждой итерации метода чувствительности сервис идентификации 
          формирует очередь из всех значений вектора идентифицируемых параметров 
          модели~\eqref{eq:adaptation_a_k_plus_delta}, которые необходимо 
          рассчитать для вычисления производных.
        \item % Асинхронный запуск расчётов до исчерпания очереди
          Сервис идентификации, выполняет асинхронный запуск расчёта режима СГ
          на каждом из доступных сервисов моделирования режима СГ.
          Как только один из вычислительных ресурсов заканчивает свой расчёт СГ, 
          сервис идентификации извлекает из очереди очередное значение $\vec{a}$
          и снова загружает его работой.
        \item % Сбор данных, решение СЛАУ, переход к следующей итерации 
          После исчерпания очереди сервис идентификации формирует 
          систему уравнений~\eqref{eq:adaptation_min_condition_SLAE}, 
          решает её с помощью сервиса решения систем уравнений, 
          формирует новое состояние вектора идентифицируемых параметров модели 
          $\vec{a}$, проверяет условие завершения алгоритма, 
          и переходит к следующей итерации, либо завершает работу.
      \end{itemize}      
    \end{enumerate}

%l: Подчеркнуть роль операций с сохранением состояиня
  Решающее значение в эффективности описанного алгоритма имеет использовние
  операций с сохранением состояния. 
  На каждом из комплектов вычислительных ресурсов
  моделируемая СГ загружается только один раз. Для каждого расчёта режима
  передаётся только новое значение вектора эфмпирических параметров. 
  Без возможности сохранения состояния удалённого вычислительного ресурса
  необходимо было бы для каждого расчёта загружать СГ целиком, что привело бы 
  к черезмерным накладным расходам.

% Глава 3 ---------------------------------------------------------------------
\textbf{В третьей главе} 
\emph{
  «Программная реализация сервисов моделирования систем газоснабжения 
  на основе разработанной вычислительной среды»} 
    описываются разработанные управляющие и вычислительные сервисы 
    решения конкретных задач моделирования СГ, 
    приводится анализ проведённых вычислительных экспериментов, 
    рассматриваются механизмы интеграции разработанных вычислительных сервисов 
    с ПВК СППДР.

%l: Перечисление сервисов, разработанных на основе архитектуры
  На основе предложенной в работе вычислительной среды 
  разработан ряд вычислительных сервисов. 
\begin{itemize}
\item % Управляющие сервисы: УС КВР, диспетчер
    Сервисы управления типизированными комплектами вычислительных ресурсов и 
    диспетчеризации вычислительных ресурсов. Помимо упомянутых выше, разработаны
    следующие сервисы:
  \item % СЛАУ
    Семейство взаимозаменяемых вычислительных сервисов для решения систем уравнений: 
    на базе Intel MKL для плотных матриц, Intel MKL для разреженных матриц, 
    библиотеки CuSp для разреженных матриц на CUDA.
  \item % Обобщённые и оптимизированный менеджер параллельного моделирования
    Обобщённые менеджеры параллельного моделирования 
    произвольных расчётных объектов 
      на центральном процессоре с использованием OpenMP, Intel TBB; 
      на CUDA-устройствах с использованием библиотеки thrust.
  \item 
    Оптимизированный менеджер параллельного моделирования трубопроводов 
    на CUDA с использованием эффективного для работы GPU 
    расположения данных в памяти.
\end{itemize}

%l: Проведены вычислительные эксперименты
  Выполнено тестирование корректности и производительности 
  разработанных вычислительных сервисов 
  с использованием созданного автором механизма тестирования.

%l: Базовый тестовый пример - ТС Саратов - Горький
  В качестве базового тестового примера использовалась схема 
  трубопроводной системы Саратов~--- Горький, которая включает в себя 
    155 моделируемых объектов, 
    48 краевых узлов (поставщики/потребители), 
    18 идентифицируемых параметров модели режима $K_{\text{то}}, K_{\text{эф}}$. 
  На основе базового тестового примера построены тестовые примеры 
  размерности, превосходящей исходную до двухсот раз.

%  В работе имитировалось одновременное решение задачи 
%  1, 10, 50, 100, 200 пользователями.

%l: Как производилось тестирование: спец механизм, конф, всевозможн. комб-ии
  Тесты проведены для всевозможных комбинаций 
    вычислительных сервисов, 
    вычислительных конфигураций 
      (приведены в таблице \ref{tbl:compute_experiments_configurations}), 
    размеров тестовых примеров, 
    взаимного расположения клиента и сервера.

  \begin{mytable}[h]
    \caption{Вычислительные конфигурации при проведении экспериментов}
    \label{tbl:compute_experiments_configurations}
    \begin{center}
    \begin{tabulary}{1\textwidth}{@{}LLLL@{}} \toprule
      \textbf{Название}      & 
      \textbf{Форм-фактор}   & 
      \textbf{Процессор}     &
      \textbf{CUDA}     \tabularnewline

      \midrule
      Notebook              & 
      Ноутбук               & 
      Intel core i5, 4~ядра &
      GeForce GTX 460M      \\
      
      Desktop               & 
      Десктоп               & 
      Intel core i7, 8~ядер &
      2xGeForce GTX 460     \\
      
      Amazon Web Services (AWS)     & 
      Виртуальная машина в облаке   & 
      Intel core i7, 8~ядер         &
      2xTesla M2050                 \\
      
      AWSx4                         & 
       \multicolumn{3}{l}{Группа из четырёх виртуальных машин в облаке}  \\            
      \bottomrule
      
    \end{tabulary}  
    \end{center}
  \end{mytable}

%l: Анализ и выводы по вычислительным экспериментам
  Анализ вычислительных экспериментов позволил сделать следующие выводы.
  \begin{itemize}
    \item % Гетерогенные ПВ, ускорение в рамках одного ПК
      Применение вычислений общего назначения на графических картах
      с использованием технологии CUDA позволило многократно ускорить
      этап параллельного моделирования расчётных объектов в 
      вычислительном сервисе моделирования режимов СГ.

    \item % Сложные задачи масштабируются в распределённой среде      
      Предложенная в работе вычислительная среда позволяет эффективно
      масштабировать многоуровневые итерационные процессы, основанные
      на многократном моделировании режимов СГ, в распределённой среде.

    \item % Целесообразно использование облаков, сильно-удалённых ресурсов
      Разработанная вычислительная среда позволяет использовать 
      эластичные облачные вычислительные ресурсы, в частности
      Amazon Web Services Elastic Compute Cloud,
      несмотря на заметные накладные расходы удалённого взаимодействия 
      (порядка 10\% от общего времени выполнени расчёта).  
  \end{itemize}

%l: Методические рекомендации по интеграции в ПВК
% Перечислить через двоеточие
  Разработаны методические рекомендации поэтапной 
  функциональной и алгоритмическоймодернизации ПВК СППДР
  для их интеграции с разработанной вычислительной средой.
  Рассмотрены различные интеграционные механизмы, в частности
  \begin{itemize}
    \item 
      на основе модели Software as a Service;
    \item
      с развёртыванием вычислительной среды на оборудовании клиента;
    \item
      через web-сервисы и web-интерфейсы.
  \end{itemize}
  
%l Написать про Весту - что это, где разрабатыавется, где внедрено, интеграция 
  С использованием разработанных рекомендаций осуществлена интеграция
  разработанных вычислительных сервисов с ПВК <<Веста-тренажёр>>~---
  диспетчерским тренажёром, разработанным на кафедре автоматизированный систем
  управления РГУ Нефти и газа имени И.М. Губкина и внедрённом в
  ПДС ООО <<Газпром трансгаз Санкт-Петербург, Саратов, Уфа>>, 
  ООО <<Газпром добыча Ноябрьск>>.

  Корректность результатов разработанных вычислительных сервисов подтверждается
  близким соответствием с результатами расчётного модуля ПВК <<Веста-тренажёр>>.

%l: ОСНОВНЫЕ РЕЗУЛЬТАТЫ И ВЫВОДЫ ----------------------------------------------
% План раздела ОСНОВНЫЕ РЕЗУЛЬТАТЫ И ВЫВОДЫ -----------------------------------
% Что я реально интересного и нового сделал:
% Разработал следующий путь модернизации подсистемы моделирования АСДУ
%   - разработка единой вычислительной среды - очень современной, подходящей
%   - разработка на её основе унифицированного вычислительного обеспечения ПВК
%   - переход ПВК к использованию нового выч. обеспечения, интеграция с ЕИП, созд-е ЕВП
% Разработал архитектуру единой вычислительной среды
%   - ввёл терминологию
%   - основные принципы:
%      - SOA, 
%      - Явное управление вычислительными ресурсами
%         - Построение распределённых иерархий
%         - Эффективность высокопроизводительных расчётов
%         - Монопольный захват ресурсов (эфф-но для HPC, необх-мо для CUDA)
%         - Прямое соединение
%         - Операции с сохранением состояния
%   - компонентной, модульной, гибкой, развиваемой
%   - полностью готовой к интеграции, обладающей необх-ми механизмами инф-го обмена
%   - кроссплатформенной
%   - готовой к предоставлению вычислительных сервисов
%   - поддерживающей распределённые вычисления
%   - с полной поддержкой параллельных и распределённых вычислений, 
%      - в т.ч. GPGPU, гетерогенные ПВ
%   - алгоритм разработки вычислительных сервисов в ней
%   - поддерживающей использование различных вычислительных ресурсов - Спрут
% Разработал программную реализацию
%   - ядра вычислительной среды
%      - сервис диспетчеризации комплектов вычислительных ресурсов
%      - сервис управления КВР типа CPU, CUDA, CUDA+CPU
%   - вычислительного сервиса моделирования СГ
%   - вычислительного сервиса идентификации параметров модели СГ
%   - взаимозаменяемого семейства сервисов решения СЛАУ на базе различных библиотек
%   - обобщённый менеджер параллельного моделирования на CUDA и CPU
%   - оптимизированный менеджер моделирования трубопроводов на CUDA
%   - суперменеджер, координирующий работу менеджеров
% Разработал систему тестирования и измерения производительности
% Провёл вычислительные эксперименты в различных режимах, конфигурациях, задачах
% Проанализировал результаты экспериментов и пришёл к выводам:
%    - Эффективность использования GPGPU, гетерогенного подхода при моделировании СГ
%       - моделирование трубопроводов, СЛАУ
%       - за счёт сопоставления вычислительных ресурсов соотв-м сервисам
%    - Получается эффективно распределять вычислительно-сложные задачи в распр-й среде
%       - на примере идентификации
%       - за счёт staefull-операций
%    - Получилось эффективно воспользоваться облачными вычислительными ресурсами
%       - несмотря на существенные накладные расходы
%       - благодаря statefull-операциям
%       - контролю над конфигурацией вычислительного процесса
%    - Корректность
%       - использование апробированых методов
%       - сравнение результатов с внедрённым и используемым calc из Весты
% Проработал методологию интеграции ПВК с разработанным вычислительным обеспечением
%    - План поэтпного перехода
%    - Различные варианты использования: SaaS, установка на оборудовании клиента, комб
%    - Проведене интеграция с ПВК Веста разработанных вычислительных сервисов - апробация 
% Отметить:
%   Иерархические многоуровневые итерационные комплексы алгоритмов решения сложных задач моделирования СГ
%     для них успешно применены предложенные решения на примере задачи адаптации
%     комбинация гетерогенных параллельных и распределённых вычислений в решении одной сложной задачи
%   Многократное сокращение времени решения задач
%   Предпосылки построения вычислительных комплексов, приспособленных к интеграции С ЕИП и формиров-ю ЕВП

% Сарданашвили: 
% Хотелось бы обратить внимание также на актуальность представленной работы. 
% Следует отметить, что расчётные задачи поддержки 
% диспетчерского управления систем газоснабжения образуют 
% иерархический многоуровневый расчетный комплекс, 
% в основе которого используются многоуровневые итерационные процедуры 
% численного моделирования технологических режимов СГ. 
% Моделируемые системы газоснабжения насчитывают тысячи моделируемых элементов разных типов. 
% Таким образом, для решения задач СППДР требуется большое число 
% разнообразных вычислительных ресурсов и вычислительной работы. 
% Достоинством диссертационной работы Васильева А.В. является то, что 
% им впервые разработаны архитектурные решения, спроектированы и реализованы 
% программные средства обеспечения компонентной среды организации 
% параллельного и распределённого вычислительного процесса, 
% позволяющего многократно сократить время решения задач СППДР. 
% Что особенно важно в системах мониторинга состояния СГ в реальном режиме времени.

% В настоящее время ОАО «Газпром» осуществляет проект модернизации АСДУ ЕСГ, 
% построено 7 мощных вычислительных центров, 
% создаётся единое информационное пространство (ЕИП). 
% Со временем ЕИП будет создано и возникнет потребность в 
% едином вычислительном пространстве (ЕВП), 
% которое невозможно создать на базе старых архитектур и подходов. 
% В представленной работе создаются предпосылки построения вычислительных комплексов, 
% приспособленных к интеграции с ЕИП и формированию ЕВП.

  % План основных результатов и выводов
  % 1. Разработана среда
  % 2. GPGPU в моделировании СГ
  % 3. РВ + ПВ в идентификации
  % 4. Корректность и производительность
  % 5. Методология интеграции и интеграция с ПВК Веста

  \section*{Основные результаты и выводы}
  \begin{enumerate}
  \item % 1. Разработана среда
    Разработана компонетная вычислительная среда, позволяющая осуществить
    унифицированное вычислительное обеспечение СППДР АСДУ на основе
    параллельных и распределённых вычислений,
    стандартных протоколов информационного взаимодействия, что
    является предпосылкой для создания единого вычислительного пространства АСДУ ЕСГ.
  \item % 2. GPGPU в моделировании СГ    
    Разработан базовый вычислительный сервис моделирования СГ, 
    осуществляющий параллельное моделирование объектов СГ
    с использования вычислений общего назначения на графических картах.
  \item % 3. ПВ + РВ в идентификации
    Разработан вычислительный сервис решения многоуровневой итерационной задачи 
    идентификации эмпирических параметров СГ, организующий 
    параллельное моделирование множества режимов СГ в распределённой среде.
  \item % 4. Выч. эксперименты: корректность и производительность.
    Проведено тестирование разработанных вычислительных сервисов
    в однопользовательском, сетевом, распределённом режимах, 
    показавшее
      \begin{itemize}
        \item 
          корректность получаемых решений;
        \item 
          многократное ускорение этапа моделирования объектов СГ 
          сервисом моделирования СГ
          за счёт использования вычислений общего назанчения на графических картах;
        \item
          многократное ускорение решения задачи идентификации при распределении
          вычислительной нагрузки как в локальной сети, так и при использовании
          удалённых <<облачных>> вычислительных ресурсов 
          Amazon Web Services Elastic Compute Cloud.      
      \end{itemize}
    \item % 5. Методология интеграции
      Разработаны унифицированные компоненты методологии 
        архитектурной
        %, 
        %функциональной, 
        %алгоритмической, 
        и программной 
      модернизации ПВК моделирования СГ для их последующей интеграции в 
      единое информационное и вычислительное пространство АСДУ.
    \item % 6. Интеграция с ПВК Веста в тестовом режиме
      В тестовом режиме выполнена интеграция разработанных вычислительных 
      сервисов с ПВК «Веста-тренажер», который внедрен в 
      ПДС ООО <<Газпром трансгаз Санкт-Петербург, Саратов, Уфа>>, 
      ООО <<Газпром добыча Ноябрьск>>.       
  \end{enumerate}

% Формирование списка публикаций по теме исследования -------------------------
\clearpage
  \renewcommand\bibsection{\nsection{Список публикаций}}

  \bibliographystylemy{gost705} % стиль ГОСТ 7.05, 
                                % в порядке употребления в тексте
  \bibliographymy{thesis}

  %\renewcommand\bibsection{\nsection{Цитированная литература}} % не использую
  %\bibliographystyle{gost705}
  %\bibliography{thesis}
  % Выходные данные (последняя страница) ----------------------------------------
  \clearpage
  \thispagestyle{empty}
  \normalfont\selectfont
  \vspace*{2cm}
  \begin{center}
  \textit{Научное издание}\\
  \vskip 2cm
  \makeatletter
  \@author
  \vskip 1.5cm
  \@title{} на тему:\\
  \@topic\\
  \makeatother
  \end{center}
  \vfill
  Подписано в печать~15.01.2013.
  Формат~$60 \times 90$~1/16.
  Тираж~100~экз.
  %Заказ~1.\\[2ex]
  \noindent
  %Санкт-Петербургская издательская фирма <<Наука>> РАН.
  %199034, Санкт-Петербург, Менделеевская линия, 1,
  %\href{http://www.naukaspb.spb.ru}{http://www.naukaspb.spb.ru}
  \end{document}
